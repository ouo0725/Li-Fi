import numpy as np

def Idiff(matrices): 
    modified_matrices = []  
    if np.shape(matrices) == (1024,8,8):
        dpcm_vector=[]
        for i in range(1023):
            num = matrices[i+1][0][0]
            dpcm_vector.append(num)
            #print(dpcm_vector)
        for j in range(1023):
            matrices[j+1][0][0]=dpcm_vector[j]+ matrices[j][0][0]
        modified_matrices = modified_matrices + matrices
        print('判斷一')

    else:    
        for i in range(3):
            matrices_splitinto3 = matrices[1024*i:1024*(i+1)][:][:]
            #print(matrices_splitinto3)
            dpcm_vector=[]
            for j in range(int(len(matrices)/3)-1):
                num = matrices_splitinto3[j+1][0][0]
                dpcm_vector.append(num)
            #print(dpcm_vector)
            for k in range(int(len(matrices)/3)-1):
                matrices_splitinto3[k+1][0][0]=dpcm_vector[k]+ matrices_splitinto3[k][0][0]
            modified_matrices = modified_matrices + matrices_splitinto3
    
    return modified_matrices

""" matrices1=np.array([[[67, 0, 0, 0, 0, 0, 0, 0], [13, 1, 0, 0, 0, 0, 0, 0], [3, -2, 0, 0, 0, 0, 0, 0], [-6, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0], [2, 1, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0]], [[66, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0]], [[69, 0, 0, 0, 0, 0, 0, 0], [-7, 1, 0, 0, 0, 0, 0, 0], [3, 1, 0, 0, 0, 0, 0, 0], [2, -1, 0, 0, 0, 0, 0, 0], [-2, -1, 0, 0, 0, 0, 0, 0], [-1, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0]]])
print(Idiff(matrices1)) """

if __name__ == '__main__':
    matrices = np.array([[[31,  1,  0,  0,  0,  0,  0,  0],
       [ 9,  0,  0,  0,  0,  0,  0,  0],
       [-2, -1,  0,  0,  0,  0,  0,  0],
       [ 0,  1,  0,  0,  0,  0,  0,  0],
       [ 0,  0,  0,  0,  0,  0,  0,  0],
       [ 0,  0,  0,  0,  0,  0,  0,  0],
       [ 0,  0,  0,  0,  0,  0,  0,  0],
       [ 0,  0,  0,  0,  0,  0,  0,  0]], [[-33,  -1,   0,   0,   0,   0,   0,   0],
       [  2,   0,   0,   0,   0,   0,   0,   0],
       [ -1,  -2,   0,   0,   0,   0,   0,   0],
       [ -3,   1,   0,   0,   0,   0,   0,   0],
       [ -1,   0,   0,   0,   0,   0,   0,   0],
       [  0,   1,   0,   0,   0,   0,   0,   0],
       [  0,   0,   0,   0,   0,   0,   0,   0],
       [  0,   0,   0,   0,   0,   0,   0,   0]], [[ 2,  0,  0,  0,  0,  0,  0,  0],
       [ 1,  0,  0,  0,  0,  0,  0,  0],
       [-2,  0,  1,  0,  0,  0,  0,  0],
       [-2,  0,  0,  0,  0,  0,  0,  0],
       [ 0,  0,  0,  0,  0,  0,  0,  0],
       [ 1,  0,  0,  0,  0,  0,  0,  0],
       [ 1,  0,  0,  0,  0,  0,  0,  0],
       [ 0,  0,  0,  0,  0,  0,  0,  0]],[[  0,  -1,   1,   0,   0,   0,   0,   0],
       [-10,   0,   0,   0,   0,   0,   0,   0],
       [ -3,   1,   0,   0,   0,   0,   0,   0],
       [  1,   0,   0,   0,   0,   0,   0,   0],
       [  1,   0,   0,   0,   0,   0,   0,   0],
       [  0,   0,   0,   0,   0,   0,   0,   0],
       [  0,   0,   0,   0,   0,   0,   0,   0],
       [  0,   0,   0,   0,   0,   0,   0,   0]],[[31,  1,  0,  0,  0,  0,  0,  0],
       [ 9,  0,  0,  0,  0,  0,  0,  0],
       [-2, -1,  0,  0,  0,  0,  0,  0],
       [ 0,  1,  0,  0,  0,  0,  0,  0],
       [ 0,  0,  0,  0,  0,  0,  0,  0],
       [ 0,  0,  0,  0,  0,  0,  0,  0],
       [ 0,  0,  0,  0,  0,  0,  0,  0],
       [ 0,  0,  0,  0,  0,  0,  0,  0]],[[-33,  -1,   0,   0,   0,   0,   0,   0],
       [  2,   0,   0,   0,   0,   0,   0,   0],
       [ -1,  -2,   0,   0,   0,   0,   0,   0],
       [ -3,   1,   0,   0,   0,   0,   0,   0],
       [ -1,   0,   0,   0,   0,   0,   0,   0],
       [  0,   1,   0,   0,   0,   0,   0,   0],
       [  0,   0,   0,   0,   0,   0,   0,   0],
       [  0,   0,   0,   0,   0,   0,   0,   0]]])
    matrices_splitinto3 = Idiff(matrices)
    print(matrices_splitinto3)